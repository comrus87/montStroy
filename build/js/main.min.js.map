{"version":3,"sources":["main.js"],"names":["document","addEventListener","btnNav","querySelector","navList","btnsServices","querySelectorAll","servicesItems","name","getElementById","phone","email","form","classList","toggle","remove","forEach","button","i","window","matchMedia","matches","contains","j","length","add","IMask","mask","value","trim","test","setCustomValidity","evt","preventDefault","reset","Swiper","loop","slidesPerView","pagination","el","clickable","breakpoints","768","spaceBetween","initialSlide","centeredSlides","1024","navigation","nextEl","prevEl","swiperAdvantages","checkedSwiper","destroy","ymaps","ready","myMap","Map","center","zoom","placemarkDesktop","Placemark","iconLayout","iconImageHref","iconImageSize","iconImageOffset","placemarkTablet","toggleMarker","geoObjects"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\n  var ERROR_NAME_MESSAGE = 'Имя должно начинаться с большой буквы, состоять как минимум из 2 и максимум из 24 букв';\n  var ERROR_PHONE_MESSAGE = 'Введите корректный телефон';\n  var ERROR_EMAIL_MESSAGE = 'Введите корректный E-mail';\n\n  var btnNav = document.querySelector('.page-header__nav-button');\n  var navList = document.querySelector('.page-header__nav-list');\n  var btnsServices = document.querySelectorAll('.services__section-title');\n  var servicesItems = document.querySelectorAll('.services__section-item');\n\n  var name = document.getElementById('form-name');\n  var phone = document.getElementById('form-phone');\n  var email = document.getElementById('form-email');\n  var form = document.querySelector('.page-footer__form');\n\n  btnNav.addEventListener('click', function () {\n    navList.classList.toggle('page-header__nav-list--close');\n  });\n\n  function removeNoJs(block) {\n    block.classList.remove('no-js');\n  }\n\n  removeNoJs(navList);\n\n  btnsServices.forEach(function (button, i) {\n    button.addEventListener('click', function () {\n      if (window.matchMedia('(max-width: 1023px)').matches) {\n        if (!(servicesItems[i].classList.contains('services__section-item--active'))) {\n          for (var j = 0; j < servicesItems.length; j++) {\n            servicesItems[j].classList.remove('services__section-item--active');\n          }\n          servicesItems[i].classList.add('services__section-item--active');\n        } else {\n          servicesItems[i].classList.remove('services__section-item--active');\n        }\n      }\n    });\n  });\n\n  var onNameValidate = function () {\n    var value = name.value.trim();\n    var reg = /^([А-Я]{1}[а-яё]{1,23}|[A-Z]{1}[a-z]{1,23})$/;\n\n    if (value.length > 0 && reg.test(value) === false) {\n      name.setCustomValidity(ERROR_NAME_MESSAGE);\n    } else {\n      name.setCustomValidity('');\n    }\n  };\n\n  var phoneModalMask = IMask(phone, {mask: '+{7}(000)000-00-00'});\n\n  var onPhoneValidate = function () {\n    var value = phone.value.trim();\n\n    if (value.length > 0 && value.length < 16) {\n      phone.setCustomValidity(ERROR_PHONE_MESSAGE);\n    } else {\n      phone.setCustomValidity('');\n    }\n  };\n\n  var onEmailValidate = function () {\n    var value = email.value.trim();\n    var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n\n    if (reg.test(value) === false && value !== '') {\n      email.setCustomValidity(ERROR_EMAIL_MESSAGE);\n    } else {\n      email.setCustomValidity('');\n    }\n  };\n\n  if (form) {\n    name.addEventListener('input', onNameValidate);\n    phone.addEventListener('input', onPhoneValidate);\n    email.addEventListener('input', onEmailValidate);\n\n    form.addEventListener('submit', function (evt) {\n      evt.preventDefault();\n      form.reset();\n    });\n  }\n\n  var swiperPartners = new Swiper('.partners__list-container', {\n    loop: true,\n    slidesPerView: 1,\n    pagination: {\n      el: '.partners__slider-dots',\n      clickable: true\n    },\n    breakpoints: {\n      768: {\n        slidesPerView: 3,\n        spaceBetween: 10,\n        initialSlide: 1,\n        centeredSlides: true\n      },\n      1024: {\n        slidesPerView: 4,\n        spaceBetween: 30,\n        centeredSlides: false,\n        navigation: {\n          nextEl: '.partners__button-next',\n          prevEl: '.partners__button-previous'\n        }\n      }\n    }\n  });\n\n  var swiperAdvantages = new Swiper('.intro__advantages-container', {\n    loop: true,\n    slidesPerView: 1,\n    initialSlide: 1,\n    spaceBetween: 20,\n    pagination: {\n      el: '.intro__slider-dots',\n      clickable: true,\n    },\n\n    breakpoints: {\n      768: {\n        slidesPerView: 3,\n        spaceBetween: 10,\n        centeredSlides: true\n      }\n    }\n  });\n\n  function checkedSwiper() {\n    if (window.matchMedia('(min-width: 1024px)').matches) {\n      swiperAdvantages.destroy();\n    }\n    return swiperAdvantages;\n  }\n\n  checkedSwiper();\n\n  window.addEventListener('resize', checkedSwiper);\n\n  ymaps.ready(init);\n\n  function init() {\n    var myMap = new ymaps.Map(\"map\", {\n      center: [55.63176836, 37.61793924],\n      zoom: 16\n    });\n\n    var placemarkDesktop = new ymaps.Placemark([55.63176836, 37.61793924], {}, {\n      iconLayout: 'default#image',\n      iconImageHref: 'img/map-marker.png',\n      iconImageSize: [74, 98],\n      iconImageOffset: [-50, -92]\n    });\n\n    var placemarkTablet = new ymaps.Placemark([55.63176836, 37.61793924], {}, {\n      iconLayout: 'default#image',\n      iconImageHref: 'img/map-marker.png',\n      iconImageSize: [22, 26],\n      iconImageOffset: [-15, -32]\n    });\n\n    function toggleMarker() {\n      if (window.matchMedia('(min-width: 1024px)').matches) {\n        myMap.geoObjects.add(placemarkDesktop);\n        myMap.geoObjects.remove(placemarkTablet);\n      } else {\n        myMap.geoObjects.remove(placemarkDesktop);\n        myMap.geoObjects.add(placemarkTablet);\n      }\n    }\n    toggleMarker();\n    window.addEventListener('resize', toggleMarker);\n  }\n});\n"]}