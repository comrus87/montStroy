{"version":3,"sources":["main.js"],"names":["document","addEventListener","btnNav","querySelector","navList","btnsServices","querySelectorAll","servicesItems","name","getElementById","phone","email","form","btnFeedBack","btnFeedBackIntro","btnServices","services","onBtnFeedBackClick","evt","preventDefault","scrollIntoView","behavior","classList","toggle","body","contains","target","add","remove","forEach","button","i","window","matchMedia","matches","j","length","IMask","mask","value","trim","test","setCustomValidity","reset","Swiper","loop","slidesPerView","pagination","el","clickable","breakpoints","768","spaceBetween","initialSlide","centeredSlides","1024","navigation","nextEl","prevEl","swiperAdvantages","checkedSwiper","destroy","ymaps","ready","myMap","Map","center","zoom","placemarkDesktop","Placemark","iconLayout","iconImageHref","iconImageSize","iconImageOffset","placemarkTablet","toggleMarker","geoObjects"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\n  var ERROR_NAME_MESSAGE = 'Имя должно начинаться с большой буквы, состоять как минимум из 2 и максимум из 24 букв';\n  var ERROR_PHONE_MESSAGE = 'Введите корректный телефон';\n  var ERROR_EMAIL_MESSAGE = 'Введите корректный E-mail';\n\n  var btnNav = document.querySelector('.page-header__nav-button');\n  var navList = document.querySelector('.page-header__nav-list');\n  var btnsServices = document.querySelectorAll('.services__section-title');\n  var servicesItems = document.querySelectorAll('.services__section-item');\n\n  var name = document.getElementById('form-name');\n  var phone = document.getElementById('form-phone');\n  var email = document.getElementById('form-email');\n  var form = document.querySelector('.page-footer__form');\n  var btnFeedBack = document.querySelector('.page-header__feedback');\n  var btnFeedBackIntro = document.querySelector('.intro__link-сontact');\n  var btnServices = document.querySelector('.intro__link-servcies');\n  var services = document.getElementById('services');\n\n  function onBtnFeedBackClick(evt) {\n    evt.preventDefault();\n    form.scrollIntoView({behavior: 'smooth'});\n  }\n\n  function onBtnServicesClick(evt) {\n    evt.preventDefault();\n    services.scrollIntoView({behavior: 'smooth'});\n  }\n\n  if (btnFeedBack) {\n    btnFeedBack.addEventListener('click', onBtnFeedBackClick);\n  }\n\n  if (btnFeedBackIntro) {\n    btnFeedBackIntro.addEventListener('click', onBtnFeedBackClick);\n  }\n\n  if (btnServices) {\n    btnServices.addEventListener('click', onBtnServicesClick);\n  }\n\n  btnNav.addEventListener('click', function () {\n    navList.classList.toggle('page-header__nav-list--close');\n  });\n\n  document.body.addEventListener('click', function (evt) {\n    if (!navList.contains(evt.target) && evt.target !== btnNav) {\n      navList.classList.add('page-header__nav-list--close');\n    }\n  });\n\n  function removeNoJs(block) {\n    block.classList.remove('no-js');\n  }\n\n  removeNoJs(navList);\n\n  btnsServices.forEach(function (button, i) {\n    button.addEventListener('click', function () {\n      if (window.matchMedia('(max-width: 1023px)').matches) {\n        if (!(servicesItems[i].classList.contains('services__section-item--active'))) {\n          for (var j = 0; j < servicesItems.length; j++) {\n            servicesItems[j].classList.remove('services__section-item--active');\n          }\n          servicesItems[i].classList.add('services__section-item--active');\n        } else {\n          servicesItems[i].classList.remove('services__section-item--active');\n        }\n      }\n    });\n  });\n\n  var onNameValidate = function () {\n    var value = name.value.trim();\n    var reg = /^([А-Я]{1}[а-яё]{1,23}|[A-Z]{1}[a-z]{1,23})$/;\n\n    if (value.length > 0 && reg.test(value) === false) {\n      name.setCustomValidity(ERROR_NAME_MESSAGE);\n    } else {\n      name.setCustomValidity('');\n    }\n  };\n\n  var phoneModalMask = IMask(phone, {mask: '+{7}(000)000-00-00'});\n\n  var onPhoneValidate = function () {\n    var value = phone.value.trim();\n\n    if (value.length > 0 && value.length < 16) {\n      phone.setCustomValidity(ERROR_PHONE_MESSAGE);\n    } else {\n      phone.setCustomValidity('');\n    }\n  };\n\n  var onEmailValidate = function () {\n    var value = email.value.trim();\n    var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n\n    if (reg.test(value) === false && value !== '') {\n      email.setCustomValidity(ERROR_EMAIL_MESSAGE);\n    } else {\n      email.setCustomValidity('');\n    }\n  };\n\n  if (form) {\n    name.addEventListener('input', onNameValidate);\n    phone.addEventListener('input', onPhoneValidate);\n    email.addEventListener('input', onEmailValidate);\n\n    form.addEventListener('submit', function (evt) {\n      evt.preventDefault();\n      form.reset();\n    });\n  }\n\n  var swiperPartners = new Swiper('.partners__list-container', {\n    loop: true,\n    slidesPerView: 1,\n    pagination: {\n      el: '.partners__slider-dots',\n      clickable: true\n    },\n    breakpoints: {\n      768: {\n        slidesPerView: 3,\n        spaceBetween: 10,\n        initialSlide: 1,\n        centeredSlides: true\n      },\n      1024: {\n        slidesPerView: 4,\n        spaceBetween: 30,\n        centeredSlides: false,\n        navigation: {\n          nextEl: '.partners__button-next',\n          prevEl: '.partners__button-previous'\n        }\n      }\n    }\n  });\n\n  var swiperAdvantages = new Swiper('.intro__advantages-container', {\n    loop: true,\n    slidesPerView: 1,\n    initialSlide: 1,\n    spaceBetween: 20,\n    pagination: {\n      el: '.intro__slider-dots',\n      clickable: true,\n    },\n\n    breakpoints: {\n      768: {\n        slidesPerView: 3,\n        spaceBetween: 10,\n        centeredSlides: true\n      }\n    }\n  });\n\n  function checkedSwiper() {\n    if (window.matchMedia('(min-width: 1024px)').matches) {\n      swiperAdvantages.destroy();\n    }\n    return swiperAdvantages;\n  }\n\n  checkedSwiper();\n\n  window.addEventListener('resize', checkedSwiper);\n\n  ymaps.ready(init);\n\n  function init() {\n    var myMap = new ymaps.Map(\"map\", {\n      center: [55.63176836, 37.61793924],\n      zoom: 16\n    });\n\n    var placemarkDesktop = new ymaps.Placemark([55.63176836, 37.61793924], {}, {\n      iconLayout: 'default#image',\n      iconImageHref: 'img/map-marker.png',\n      iconImageSize: [74, 98],\n      iconImageOffset: [-50, -92]\n    });\n\n    var placemarkTablet = new ymaps.Placemark([55.63176836, 37.61793924], {}, {\n      iconLayout: 'default#image',\n      iconImageHref: 'img/map-marker.png',\n      iconImageSize: [22, 26],\n      iconImageOffset: [-15, -32]\n    });\n\n    function toggleMarker() {\n      if (window.matchMedia('(min-width: 1024px)').matches) {\n        myMap.geoObjects.add(placemarkDesktop);\n        myMap.geoObjects.remove(placemarkTablet);\n      } else {\n        myMap.geoObjects.remove(placemarkDesktop);\n        myMap.geoObjects.add(placemarkTablet);\n      }\n    }\n    toggleMarker();\n    window.addEventListener('resize', toggleMarker);\n  }\n});\n"]}